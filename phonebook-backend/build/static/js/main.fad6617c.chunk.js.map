{"version":3,"sources":["services/persons.js","components/Filter.js","components/Header.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","personObject","post","concat","id","request","delete","console","log","newObject","put","Filter","props","react_default","a","createElement","value","filter","onChange","handleFilter","Header","text","Notification","_ref","message","classText","className","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","onClick","handleDelete","person","Persons","persons","map","components_Person","key","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","filteredPersons","setFilteredPersons","_useState5","_useState6","setNewName","_useState7","_useState8","setNewNumber","_useState9","_useState10","setFilter","_useState11","_useState12","confirmMessage","setConfirmMessage","_useState13","_useState14","errorMessage","setErrorMessage","useEffect","personService","setTimeout","catch","error","alert","components_Header","components_Notification","components_Filter","event","target","filtered","toLowerCase","includes","components_PersonForm","preventDefault","includesName","personsNew","toConsumableArray","window","confirm","find","components_Persons","personToDelete","personsAux","FilteredPersonsAux","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.fad6617c.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (personObject) => {\n  const request = axios.post(`${baseUrl}`, personObject);\n  return request.then((response) => response.data);\n};\n\nconst erase = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  console.log(request.then((response) => response.data));\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, erase, update };\n","import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with:\n      <input value={props.filter} onChange={props.handleFilter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Header = (props) => {\n  return <h2>{props.text}</h2>;\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst Notification = ({ message, classText }) => {\n  if (message === \"\") {\n    return null;\n  }\n\n  return <div className={classText}>{message}</div>;\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = (props) => {\n  return (\n    <div>\n      {props.name} {props.number}{\" \"}\n      <button onClick={() => props.handleDelete(props.person)}>delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = (props) => {\n  return props.persons.map((person) => (\n    <Person\n      key={person.name}\n      name={person.name}\n      number={person.number}\n      handleDelete={() => props.handleDelete(person)}\n    />\n  ));\n};\n\nexport default Persons;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\nimport \"./index.css\";\nimport Filter from \"./components/Filter\";\nimport Header from \"./components/Header\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filteredPersons, setFilteredPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [confirmMessage, setConfirmMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n    const filtered = persons.filter((person) =>\n      person.name.toLowerCase().includes(event.target.value.toLowerCase())\n    );\n    setFilteredPersons(filtered);\n  };\n\n  function includesName(persons, name) {\n    return persons.map((person) => person.name).includes(name);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = { name: newName, number: newNumber };\n    if (includesName(persons, newName)) {\n      if (\n        window.confirm(\n          newName +\n            \" is already added to phonebook, replace the old number with a new one?\"\n        ) === true &&\n        newName !== \"\"\n      ) {\n        personService\n          .update(\n            persons.find((person) => person.name === newName).id,\n            personObject\n          )\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.name !== newName ? person : response\n              )\n            );\n            setFilteredPersons(\n              filteredPersons.map((person) =>\n                person.name !== newName ? person : response\n              )\n            );\n            setConfirmMessage(\"Updated \" + newName);\n            setTimeout(() => setConfirmMessage(\"\"), 5000);\n          })\n          .catch((error) => {\n            alert(\"an error has occurred updating the person\");\n          });\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then((response) => {\n          const personsNew = [...persons, response];\n          setPersons(personsNew);\n          setFilteredPersons(personsNew);\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setConfirmMessage(\"Added \" + newName);\n          setTimeout(() => setConfirmMessage(\"\"), 5000);\n        })\n        .catch((error) => {\n          alert(\"an error has occurred saving the new person\");\n        });\n    }\n  };\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((persons) => {\n        setPersons(persons);\n        setFilteredPersons(persons);\n        setConfirmMessage(\"Database read\");\n        setTimeout(() => setConfirmMessage(\"\"), 5000);\n      })\n      .catch((error) => {\n        alert(\"an error has ocurred reading the data base\");\n      });\n  }, []);\n\n  const handleDelete = (personToDelete) => {\n    if (\n      window.confirm(`Do you really want to delete ${personToDelete.name}?`)\n    ) {\n      const personsAux = persons;\n      const FilteredPersonsAux = filteredPersons;\n      personService\n        .erase(personToDelete.id)\n        .then((response) => {\n          setPersons(\n            personsAux.filter((person) => person.name !== personToDelete.name)\n          );\n          setFilteredPersons(\n            FilteredPersonsAux.filter(\n              (person) => person.name !== personToDelete.name\n            )\n          );\n          setConfirmMessage(\"Deleted \" + personToDelete.name);\n          setTimeout(() => setConfirmMessage(\"\"), 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${personToDelete.name} has already been removed from server`\n          );\n          setPersons(\n            personsAux.filter((person) => person.name !== personToDelete.name)\n          );\n          setFilteredPersons(\n            FilteredPersonsAux.filter(\n              (person) => person.name !== personToDelete.name\n            )\n          );\n          setTimeout(() => setErrorMessage(\"\"), 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <Header text=\"Phonebook\" />\n      <Notification message={confirmMessage} classText={\"message\"} />\n      <Notification message={errorMessage} classText={\"error\"} />\n      <Filter filter={filter} handleFilter={handleFilter} />\n      <Header text=\"Add new\" />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n      <Header text=\"Numbers\" />\n      <Persons persons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}